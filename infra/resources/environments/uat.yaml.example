# =============================================================================
# UAT Environment Configuration (EXAMPLE - NOT USED YET)
# =============================================================================
# This is an EXAMPLE file showing how easy it is to add a new environment.
# Copy this file and modify the values to create UAT/DEV environments.
#
# To activate:
# 1. Uncomment and modify values below
# 2. Create infra/resources/uat/ directory (or use Terraform workspaces)
# 3. Run: terraform workspace new uat && terraform plan
# =============================================================================

environment:
  name: "uat"
  prefix: "plsm"
  env_short: "u"
  location: "italynorth"
  instance_number: "01"

# Tags for resource management
tags:
  CostCenter: "TS310 - PAGAMENTI & SERVIZI"
  CreatedBy: "Terraform"
  Environment: "UAT"  # Changed from Prod
  Owner: "PLSM"
  ManagementTeam: "Service Management"
  Source: "https://github.com/pagopa/plsm-service-management/tree/main"

# =============================================================================
# CRM Function App Settings
# =============================================================================

crm_function:
  # Resource configuration
  app_name: "crm"
  instance_number: "01"
  node_version: 22
  health_check_path: "/api/v1/health"

  # UAT Production slot app settings
  production:
    # Dynamics CRM connection (UAT Key Vault secrets)
    dynamics_base_url_secret: "fa-crm-dynamics-base-url-uat"  # Different secret
    dynamics_url_contacts_secret: "fa-crm-dynamics-url-contacts-uat"  # Different secret
    
    # Runtime configuration
    node_env: "uat"  # Changed from production
    website_run_from_package: 1

  # UAT Staging slot app settings
  staging:
    # Dynamics CRM connection (UAT Key Vault secrets)
    dynamics_base_url_secret: "fa-crm-dynamics-base-url-uat"
    dynamics_url_contacts_secret: "fa-crm-dynamics-url-contacts-uat"
    
    # Runtime configuration
    node_env: "uat"
    website_run_from_package: 1

# =============================================================================
# Network Configuration
# =============================================================================

network:
  subnet_cidr_block: "10.1.0.0/24"  # Different subnet for UAT
  use_private_endpoint: true
